# Заметки о разработке

- Я решил не использовать refresh token, потому что это долго писать и придется добавлять дополнительные конечные точки, которые не указаны в тз
- Таблица с сессиями в сервисе авторизации используется, чтобы не генерировать новый токен для человека у которого пока есть рабочий токен(то есть когда пользователь пытается залогиниться, то приложение проверяет есть ли рабочий токен в базе данных и если есть то выдает его, иначе генерирует новый). Смысл в том, что пользователь не может наплодить миллион токенов в базе, а также можно будет смотреть историю авторизаций(пытаюсь притянуть за уши смысл этой таблицы)
- При запросе информации о пользователе приложение парсит переданный токен и по user_id ищет пользователя 
- Я не понял зачем нужно поле updated_at в таблице пользователей, поэтому игнорирую его в программе
- Аналогично с полем session_token из таблицы sessions(я сохраняю токен в базу, но никак его не использую)
- Выбранный формат jwt токена:
```json
{
  ...
  "sub": логин(email) пользователя,
  ...
  "role": "...",
  "nickname": "...",
  "user_id": идентификатор в виде числа
}
```
- Я заметил что параметр columnDefinition в аннотации @Column ни на что не влияет, поэтому в модуле заказов я его не использовал
- Я не нашел официального подтверждения, но на stackoverflow пишут что CrudRepository по умолчанию thread safe так что я нигде не обеспечивал потокобезопасность
- В обоих сервисах именование перечислений не соответствует кодстайлу, потому что с ним у меня ничего не работало
